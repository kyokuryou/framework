<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"

       xsi:schemaLocation="http://www.springframework.org/schema/beans
                     http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">

    <!-- 主配置引入-->
    <import resource="classpath:spring-system.xml"/>

    <!-- 配置freemarkerManager -->
    <bean id="freemarkerManager" class="org.apache.struts2.views.freemarker.FreemarkerManager"/>

    <!-- 生成静态页面 -->
    <bean id="cacheHtml" class="org.core.support.GenerateHtml">
        <property name="freemarkerManager" ref="freemarkerManager"/>
        <property name="htmlPath" value="${html.path}"/>
    </bean>

    <bean id="captchaEngine" class="org.core.common.JCaptchaEngine"/>

    <bean id="captchaService" class="com.octo.captcha.service.image.DefaultManageableImageCaptchaService">
        <property name="captchaEngine" ref="captchaEngine"/>
        <!--验证码过期时间-->
        <property name="minGuarantedStorageDelayInSeconds" value="600"/>
    </bean>
    <!-- 模版配置 -->
    <bean id="templateManager" class="org.core.support.TemplateManager">
        <property name="freemarkerManager" ref="freemarkerManager"/>
        <property name="configFileName" value="${template.config.path}"/>
        <property name="staticConfig" value="${template.config.static}"/>
        <property name="mailConfig" value="${template.config.mail}"/>
        <property name="dynamicConfig" value="${template.config.dynamic}"/>
    </bean>
</beans>